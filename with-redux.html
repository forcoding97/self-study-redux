<!DOCTYPE html>
<html>
  <head>
    <!-- script 태그의 src 에 redux cdn 의 주소를 넣으면 redux 를 설치하지 않고도 사용할 수 있다 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/5.0.0-alpha.0/redux.js"></script>
  </head>
  <body>
    <style>
      .container {
        border: 5px solid black;
        padding: 10px;
        margin-bottom: 10px;
      }
    </style>

    <div id="red"></div>

    <script>
      // reducer 는 1)기존의 state 값, 2)action 을 인자로 받는다.
      function reducer(state, action) {
        // state 의 초기값이 설정되지 않은 경우,
        // state 의 값이 undefined 인 점을 바탕으로 조건문을 만들어 초기값을 설정하도록 한다.
        if (state === undefined) {
          // 이때, return 되는 값이 state 의 초기값이 되는 것이다.
          return { color: "yellow" };
        }
      }
      // console.log(store.getState()); 를 통해 콘솔창에서 확인 가능하다.
      var store = Redux.createStore(reducer);

      function red() {
        var state = store.getState();
        document.querySelector("#red").innerHTML = `
          <div id="component_red" class="container" style="background-color:${state.color}">
            <h1>red</h1>
            <input
              type="button"
              value="fire"
              onClick="
                document.querySelector('#component_red').style.backgroundColor='red';
                document.querySelector('#component_green').style.backgroundColor='red';
                document.querySelector('#component_blue').style.backgroundColor='red';
            " />
          </div>
        `;
      }
      red();
    </script>
  </body>
</html>
